<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[haifeng's blog]]></title>
  <link href="http://haifengwei.github.io/atom.xml" rel="self"/>
  <link href="http://haifengwei.github.io/"/>
  <updated>2017-04-27T11:10:12+08:00</updated>
  <id>http://haifengwei.github.io/</id>
  <author>
    <name><![CDATA[haifeng]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[åˆè¯†CALayer]]></title>
    <link href="http://haifengwei.github.io/blog/2017/04/27/chu-shi-calayer/"/>
    <updated>2017-04-27T10:14:04+08:00</updated>
    <id>http://haifengwei.github.io/blog/2017/04/27/chu-shi-calayer</id>
    <content type="html"><![CDATA[<h3>ä¸€ã€Layerç®€ä»‹</h3>

<p>â€‚â€‚â€‚â€‚â€‚CALayeræ˜¯å®šä¹‰åœ¨QuartzCoreæ¡†æ¶ä¸­çš„(Core Animation)ï¼Œå®ƒæ˜¯ç»˜å›¾å’ŒåŠ¨ç”»çš„åŸºç¡€ï¼Œæ˜¯åœ¨3Dç©ºé—´ä¸­çš„2Då¹³é¢ã€‚CALayerç®¡ç†çš„å‡ ä½•ï¼ˆä¾‹å¦‚rotateï¼Œtransfromï¼‰ï¼Œå†…å®¹ï¼ˆimageç­‰ï¼‰ï¼Œå’Œå¯è§†å±æ€§ï¼ˆbackgroundColorï¼Œalphaï¼‰ç­‰ä¿¡æ¯ã€‚<!--more-->CALayerä¸»è¦é€šè¿‡ç®¡ç†bitmapæ¥ç»´æŠ¤è‡ªå·±çš„çŠ¶æ€ä¿¡æ¯ï¼Œä»è¿™ä¸€ç‚¹ä¸Šæ¥è¯´ï¼ŒLayerå¯ä»¥çœ‹ä½œå¯¹è±¡æ¨¡å‹ï¼Œå› ä¸ºä»–ä»¬ä¸»è¦ç”¨æ¥ç®¡ç†æ•°æ®ã€‚</p>

<h3>äºŒã€Layerä¸bitmapçš„å…³ç³»</h3>

<p>â€‚â€‚â€‚â€‚â€‚â€‚Layeræ˜¯åŸºäºbitmapçš„ï¼Œå®ƒä¼šæ•è·Viewè¦å‘ˆç°çš„å†…å®¹ï¼Œç„¶åcacheåœ¨ä¸€ä¸ªbitmapä¸­ï¼Œè¿™ä¸ªbitmapå¯ä»¥çœ‹ä½œä¸€ä¸ªå¯¹è±¡ã€‚è¿™æ ·æ¯æ¬¡è¿›è¡Œæ“ä½œï¼Œä¾‹å¦‚å¹³ç§»æ—‹è½¬ç­‰ï¼Œåªæ˜¯bitmapçš„çŸ©é˜µè¿ç®—ã€‚</p>

<p>â€‚â€‚â€‚â€‚â€‚â€‚ç”±äºåŸºäºLayerçš„ç»˜åˆ¶æ˜¯å¤„ç†é™æ€çš„Bitmapçš„ï¼Œè€Œbitmapçš„å¤„ç†åˆæ˜¯GPUæ‰€æ“…é•¿çš„ï¼Œæ‰€ä»¥å®ƒçš„æ•ˆç‡è¦æ¯”åŸºäºViewç»˜åˆ¶çš„é«˜å¾ˆå¤šï¼Œå› ä¸ºåŸºäºViewç»˜åˆ¶çš„æ¯æ¬¡éƒ½è¦è¿›è¡ŒdrawRectçš„è°ƒç”¨é‡æ–°ç»˜åˆ¶ã€‚</p>

<h3>ä¸‰ã€UIViewä¸CALayerçš„å…³ç³»</h3>

<p>â€‚â€‚â€‚â€‚â€‚â€‚æ—¢ç„¶è¯´CALayer ï¼Œé‚£ä¹ˆUIViewè‚¯å®šè¦æä¸€ä¸‹ï¼Œ UIViewæ˜¯iOSç³»ç»Ÿä¸­ç•Œé¢å…ƒç´ çš„åŸºç¡€ï¼Œæ‰€æœ‰çš„ç•Œé¢å…ƒç´ éƒ½ç»§æ‰¿è‡ªå®ƒã€‚åœ¨åˆ›å»ºUIViewå¯¹è±¡æ—¶ï¼ŒUIViewå†…éƒ¨ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå›¾å±‚(å³CALayerå¯¹è±¡)ï¼Œé€šè¿‡UIViewçš„layerå±æ€§å¯ä»¥è®¿é—®è¿™ä¸ªå±‚ã€‚UIViewæœ¬èº«æ›´åƒæ˜¯ä¸€ä¸ªCALayerçš„ç®¡ç†å™¨ï¼Œè®¿é—®å®ƒçš„è·Ÿç»˜å›¾å’Œè·Ÿåæ ‡æœ‰å…³çš„å±æ€§ï¼Œä¾‹å¦‚frameï¼Œboundsç­‰ç­‰ï¼Œå®é™…ä¸Šå†…éƒ¨éƒ½æ˜¯åœ¨è®¿é—®å®ƒæ‰€åŒ…å«çš„CALayerçš„ç›¸å…³å±æ€§ã€‚</p>

<p>â€‚â€‚â€‚â€‚â€‚â€‚å¦å¤–UIViewå’ŒCALayeræœ€å¤§çš„åŒºåˆ«å°±æ˜¯UIViewå¯ä»¥æ¥å—ç”¨æˆ·è¾“å…¥ï¼ˆä¾‹å¦‚è§¦æ‘¸ï¼‰è€ŒCALayerä¸å¯ä»¥ï¼ŒCALayerå•ç‹¬å¹¶ä¸èƒ½å‘ˆç°å‡ºä»»ä½•å¯è§†çš„å†…å®¹ï¼Œå¿…é¡»ä¾æ‰˜äºUIViewã€‚CALayeråªæ˜¯å‡ ä½•ä¸Šå‘ˆç°ç»™ç”¨æˆ·çš„ä¸œè¥¿ï¼Œå®ƒè¾ƒä¸ºè½»é‡ï¼Œé€šå¸¸é‡‡ç”¨CacheæŠ€æœ¯ï¼Œå¯¹èµ„æºæ¶ˆè€—ä¹Ÿè¾ƒå°ã€‚</p>

<p>â€‚â€‚â€‚â€‚â€‚â€‚UIViewå’ŒCALayerå…³ç³»å›¾å¦‚ä¸‹ï¼š
â€‚â€‚â€‚â€‚â€‚â€‚
<img src="http://cc.cocimg.com/api/uploads/20161204/1480865231251244.png" alt="å…³ç³»å›¾" /></p>

<h3>å››ã€anchorPointå’Œposition</h3>

<p> â€‚â€‚å’ŒUIViewä¸åŒï¼ŒLayerä¸»è¦ç”±ä¸‰ä¸ªå±æ€§æ¥è®¾ç½®ä½ç½®ï¼ˆæå°‘ç”¨<code>Frameï¼š</code>ï¼‰</p>

<ul>
<li>boundsâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚è®¾ç½®å¤§å°</li>
<li>anchorPointâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚è®¾ç½®é”šç‚¹ï¼ˆé”šç‚¹å¯¹åç»­çš„layeråŠ¨ç”»æœ‰å¾ˆå¤§å½±å“ï¼‰</li>
<li>positionâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚é”šç‚¹åœ¨superLayerä¸­çš„ä½ç½®</li>
</ul>


<p>â€‚â€‚â€‚â€‚â€‚â€‚è¿™æ ·è¯´æœ‰ç‚¹æŠ½è±¡ï¼Œæˆ‘ä»¬çœ‹çœ‹ä»¥ä¸‹çš„å›¾å°±äº†è§£äº†å¯¹äºiOSæ¥è¯´ï¼Œåæ ‡ç³»å¦‚å›¾ï¼ŒarchPointï¼ˆx,yï¼‰çš„ä¸¤ä¸ªå€¼é€šå¸¸å–0.0-1.0,é»˜è®¤å€¼æ˜¯ï¼ˆ0.5ï¼Œ0.5ï¼‰è¿™é‡Œçš„å€¼å¯ä»¥çœ‹ä½œæ‰€å ç”¨xçš„æ¯”ä¾‹ï¼Œæ¯”å¦‚é»˜è®¤çš„0.5ï¼Œ0.5å°±æ˜¯åœ¨xçš„ä¸­é—´å’Œyçš„ä¸­é—´ã€‚
ï¿¼<img src="http://upload-images.jianshu.io/upload_images/2782212-f61aade513ffd51e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20150110130108359.png" /></p>

<p>â€‚â€‚â€‚â€‚â€‚â€‚è€Œpositionåˆ™æ˜¯AnchorPointåœ¨super layerä¸­çš„ä½ç½®
å¦‚ä¸‹å›¾
<img src="http://upload-images.jianshu.io/upload_images/2782212-071d76aaa3517d68.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="20150110130534295.png" /></p>

<h3>äº”ã€ç®¡ç†Layerå†…å®¹çš„å‡ ä¸ªå‡½æ•°</h3>

<ul>
<li>addSublayer:</li>
<li>insertSublayer:above:</li>
<li>insertSublayer:atIndex:</li>
<li>insertSublayer:below:</li>
<li>removeFromSuperlayer</li>
<li>replaceSublayer:with:</li>
</ul>


<h3>å…­ã€Layeræ”¯æŒç»§æ‰¿ï¼Œæ”¯æŒæ·»åŠ Sublayerï¼Œæ”¯æŒå¯¹sublayerè¿›è¡Œå±‚æ¬¡è°ƒæ•´</h3>

<ul>
<li>CAEmitterLayerâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚å‘å°„å™¨å±‚ï¼Œç”¨æ¥æ§åˆ¶ç²’å­æ•ˆæœ</li>
<li>CAGradientLayerâ€‚â€‚â€‚â€‚â€‚  â€‚â€‚â€‚â€‚æ¢¯åº¦å±‚ï¼Œé¢œè‰²æ¸å˜</li>
<li>CAEAGLayerâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚ç”¨OpenGL ESç»˜åˆ¶çš„å±‚</li>
<li>CAReplicationLayerâ€‚â€‚â€‚â€‚â€‚â€‚ç”¨æ¥è‡ªåŠ¨å¤åˆ¶sublayer</li>
<li>CAScrollLayerâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚ç”¨æ¥ç®¡ç†å¯æ»‘åŠ¨çš„åŒºåŸŸ</li>
<li>CAShapeLayerâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚ç»˜åˆ¶ç«‹ä½“çš„è´å¡å°”æ›²çº¿</li>
<li>CATextLayerâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚ â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚å¯ä»¥ç»˜åˆ¶AttributeString</li>
<li>CATiledLayerâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚ç”¨æ¥ç®¡ç†ä¸€å‰¯å¯ä»¥è¢«åˆ†å‰²çš„å¤§å›¾</li>
<li>CATransformLayerâ€‚â€‚â€‚â€‚ â€‚â€‚â€‚ç”¨æ¥æ¸²æŸ“3D layerçš„å±‚æ¬¡ç»“æ„</li>
</ul>


<p>æ–‡ç« å‚è€ƒï¼š<a href="http://blog.csdn.net/hello_hwc?viewmode=contents">ã€Š IOS SDKè¯¦è§£ä¹‹CALayerï¼ˆä¸€ï¼‰ã€‹</a>ã€<a href="http://www.jianshu.com/p/b64f9a1bdd1b">ã€Šåˆæ¢CALayerå±æ€§ã€‹</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç”¨Octopresså’ŒGitHubæ­å»ºä¸ªäººåšå®¢é‡åˆ°çš„å‘]]></title>
    <link href="http://haifengwei.github.io/blog/2017/04/26/yong-octopresshe-githubda-jian-ge-ren-bo-ke-yu-dao-de-keng/"/>
    <updated>2017-04-26T09:36:38+08:00</updated>
    <id>http://haifengwei.github.io/blog/2017/04/26/yong-octopresshe-githubda-jian-ge-ren-bo-ke-yu-dao-de-keng</id>
    <content type="html"><![CDATA[<p>ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šå…³äºæ­å»ºOctopressçš„æ–‡ç« ï¼Œæ‰€ä»¥æˆ‘å†™ç¯‡æ–‡ç« ç›®çš„è®°å½•ä¸‹æˆ‘æ­å»ºblogè¿‡ç¨‹ä¸­é‡åˆ°çš„å‘ï¼Œå¦‚æœ‰äººé‡åˆ°ç›¸åŒé—®é¢˜å¯ä»¥å‚è€ƒä¸€ä¸‹ğŸ˜ã€‚<!--more--></p>

<h4>å‘ä¸€ã€GithubPageéƒ¨ç½²æ—¶æ‰§è¡Œ<code>rake deploy</code>æ—¶æŠ¥é”™ï¼š</h4>

<p>é”™è¯¯ä¿¡æ¯æœ‰è¿™ä¹ˆä¸€å¥<code>Updates were rejected because the tip of your current branch is behind</code>
è¿™ä¸ªé”™è¯¯æ˜¯æˆ‘åœ¨åˆ›å»ºä»“åº“æ—¶æ‰‹è´±å°†<code>Initialize this repository with a README</code>è¿™ä¸ªé€‰é¡¹ç»™é€‰ä¸­äº†ï¼Œè¿™æ ·ä¼šå¯¼è‡´æœ¬åœ°å½“å‰ç‰ˆæœ¬ä½äºæœåŠ¡ç«¯çš„ç‰ˆæœ¬ï¼Œæ‰§è¡Œ<code>rake deploy</code>å‘å¸ƒåšæ–‡åˆ°GitHub Pageså¤±è´¥</p>

<p> <img src="https://haifengwei.github.io/images/Snip20170426_2.png" alt="å›¾ç‰‡" /></p>

<h3>å‘äºŒã€åœ¨å¤´éƒ¨å¯¼èˆªæ æ·»åŠ Categories:</h3>

<p>1ã€è®¾ç½®å¯¼èˆªæ </p>

<p>å¯¼èˆªæ çš„è®¾ç½®åœ¨<code>source\_includes\custom\navigation.html</code>
æˆ‘ä»¬å¯ä»¥å°†Blogå’ŒArchivesä¿®æ”¹ä¸ºé¦–é¡µå’Œå½’æ¡£ï¼Œä¹Ÿå¯ä»¥åœ¨æ­¤æ·»åŠ ä¸€ä¸ªæ ‡ç­¾é¡µï¼Œæ­¤æ—¶åº”ä½¿ç”¨å‘½ä»¤<code>rake new_page['about']</code>åˆ›å»ºä¸€ä¸ªé¡µé¢ï¼Œé¡µé¢è·¯å¾„ä¸º<code>source\about\index.markdown</code>;
ä¿®æ”¹åçš„æ–‡ä»¶å¦‚ä¸‹ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;ul class="main-navigation"&gt; 
</span><span class='line'>  &lt;li&gt;&lt;a href="http://haifengwei.github.io/"&gt;é¦–é¡µ&lt;/a&gt;&lt;/li&gt; 
</span><span class='line'>  &lt;li&gt;&lt;a href="http://haifengwei.github.io/blog/archives"&gt;å½’æ¡£&lt;/a&gt;&lt;/li&gt; 
</span><span class='line'>  &lt;li&gt;&lt;a href="http://haifengwei.github.io/about"&gt;å…³äº&lt;/a&gt;&lt;/li&gt; 
</span><span class='line'>&lt;/ul&gt;</span></code></pre></td></tr></table></div></figure>


<p>2ã€ç”ŸæˆCategories</p>

<p>å¯ä»¥å‚è€ƒä¸‹<a href="http://fwhyy.com/2013/05/octopress-blog-setting/">ã€ŠOctopressåšå®¢è®¾ç½®ã€‹</a> ã€<a href="http://codemacro.com/2012/07/18/add-category-list-to-octopress/">ã€Šä¸ºoctopressæ·»åŠ åˆ†ç±»(category)åˆ—è¡¨ã€‹</a>å’Œé—®åº¦å¨˜ï¼ˆâœ¿â—¡â€¿â—¡ï¼‰</p>

<p>3ã€åœ¨å¤´éƒ¨å¯¼èˆªæ æ·»åŠ Categories</p>

<p>ç™¾åº¦äº†ä¸€ä¸‹ï¼Œå…¨éƒ½æ˜¯è¯´æ€ä¹ˆåœ¨ä¾§è¾¹å¯¼èˆªæ æ€ä¹ˆæ·»åŠ Categoriesï¼ˆè€é“ï¼Œæ‰å¿ƒäº†ï¼‰ã€‚</p>

<p>äºæ˜¯æˆ‘åˆ°å¤„æ‰¾åšæ–‡çœ‹ï¼Œå°±è¿™ä¹ˆæ‰¾äº†åŠå¤©ç»ˆäºçœ‹åˆ°è¿™ä¹ˆä¸€ç¯‡æ–‡ç« <a href="http://codemacro.com/2012/07/18/add-tag-to-octopress/">ã€Šä¸ºoctopressæ·»åŠ tag cloudã€‹</a>å’Œï¼Œå…¶ä¸­æœ‰è¿™ä¹ˆä¸€æ®µä»£ç (å»æ‰\)</p>

<pre><code class="`"> &lt;section&gt;
  &lt;h1&gt;Tags&lt;/h1&gt;
  &lt;ul class="tag-cloud"&gt;
    {\% tag_cloud font-size: 90-210%, limit: 10, style: para \%}
  &lt;/ul&gt;
&lt;/section&gt;
</code></pre>

<p> æ„Ÿè§‰æœ‰ç‚¹åƒï¼Œäºæ˜¯æˆ‘å°±åœ¨<code>source\Categories\index.markdown</code>é‡Œå†™äº†è¿™ä¹ˆä¸€æ®µ(å»æ‰\)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>---
</span><span class='line'>layout: page
</span><span class='line'>title: Categories
</span><span class='line'>navbar: Categories
</span><span class='line'>footer: false
</span><span class='line'>---
</span><span class='line'>{\% category_list font-size: 90-210%, limit: 1000, style: para \%}</span></code></pre></td></tr></table></div></figure>


<p>æ²¡æƒ³åˆ°è¿˜å°±æˆäº†ã€‚</p>
]]></content>
  </entry>
  
</feed>
